!function(e){var t={};function r(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t){e.exports=function(){for(var e=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],t=0;t<256;t++)e[256+t]=e[t];function r(e){return e*e*e*(e*(6*e-15)+10)}function i(e,t,r){return t+e*(r-t)}function n(e,t,r,i){var n=15&e,a=n<8?t:r,o=n<4?r:12==n||14==n?t:i;return(0==(1&n)?a:-a)+(0==(2&n)?o:-o)}return{noise:function(t,a,o){var u=~~t,l=~~a,d=~~o,s=255&u,m=255&l,f=255&d,c=(t-=u)-1,p=(a-=l)-1,g=(o-=d)-1,y=r(t),h=r(a),v=r(o),R=e[s]+m,b=e[R]+f,S=e[R+1]+f,E=e[s+1]+m,M=e[E]+f,x=e[E+1]+f;return i(v,i(h,i(y,n(e[b],t,a,o),n(e[M],c,a,o)),i(y,n(e[S],t,p,o),n(e[x],c,p,o))),i(h,i(y,n(e[b+1],t,a,g),n(e[M+1],c,a,o-1)),i(y,n(e[S+1],t,p,g),n(e[x+1],c,p,g))))}}}},function(e,t,r){"use strict";r.r(t);var i=r(0),n=r.n(i);AFRAME.registerGeometry("terrain-plain",{schema:{middleRadius:{type:"number",default:100,min:10},unitSize:{type:"number",default:1,min:.1,max:1e3},far:{type:"number",default:4e3},log:{type:"boolean",default:!1}},init:function(e){const t=new n.a,r=100*Math.random(),i=Math.sqrt(3)/2,a=Math.round(e.middleRadius/e.unitSize),o=e.middleRadius/a,u=(a-1)*o+1e-4,l=(a+1)*o+1e-4,d=e.far>l?e.far:l,s=u/4,m=Math.ceil(1.16*a);e.log&&console.log("terrain-plain","SIZE="+a,"SCAN_SIZE="+m,"UNIT_SIZE="+o,"middleRadius="+e.middleRadius,"FAR="+d);let f=new THREE.Geometry,c={};c[-m-1]={};let p=0;for(let n=-m;n<=m;++n){c[n]={};for(let a=-m;a<=m;++a){let m=n*i*o,g=(a-n/2)*o,y=Math.sqrt(m*m+g*g);if(y<=l){let i;if(y<=u){i=10;for(let n=25;n<=1500;n*=5)i+=t.noise((m+e.middleRadius)/n,(g+e.middleRadius)/n,r)*Math.min(n/2,150);i*=Math.min(u-y,s)/s;let n=5;(i+=t.noise((m+e.middleRadius)/n,(g+e.middleRadius)/n,r)*n/2)<0&&(i=0)}else y<=e.middleRadius?i=0:(m*=d/y,g*=d/y,i=0);c[n][a]=p++,f.vertices.push(new THREE.Vector3(m,i,g));let o=p-1,l=c[n][a-1],h=c[n-1][a-1],v=c[n-1][a];void 0!==l&&void 0!==h&&f.faces.push(new THREE.Face3(o,l,h)),void 0!==h&&void 0!==v&&f.faces.push(new THREE.Face3(o,h,v))}}}f.computeBoundingBox(),f.mergeVertices(),f.computeFaceNormals(),f.computeVertexNormals(),this.geometry=f}}),AFRAME.registerPrimitive("a-terrain-plain",{defaultComponents:{geometry:{primitive:"terrain-plain",middleRadius:100,unitSize:1,log:!1},material:{}},mappings:{"middle-radius":"geometry.middleRadius","unit-size":"geometry.unitSize",far:"geometry.far",log:"geometry.log",shader:"material.shader",color:"material.color",metalness:"material.metalness",roughness:"material.roughness",src:"material.src","flat-shading":"material.flatShading"}})}]);
//# sourceMappingURL=main.js.map